# Contract Intelligence - Environment Variables
# Copy this to .azure/<env-name>/.env and fill in your values

# ==================== REUSE EXISTING RESOURCES ====================
# Set these to reuse existing Azure OpenAI and PostgreSQL instead of creating new ones
# If not set, azd will provision new resources

# Existing Azure OpenAI (leave empty to create new)
EXISTING_OPENAI_ENDPOINT=""  # e.g., "https://my-openai.openai.azure.com/"
EXISTING_OPENAI_DEPLOYMENT_NAME=""  # e.g., "gpt-4o"
EXISTING_OPENAI_EMBEDDING_DEPLOYMENT_NAME=""  # e.g., "text-embedding-3-small"

# Existing PostgreSQL (leave empty to create new)
EXISTING_POSTGRES_HOST=""  # e.g., "my-server.postgres.database.azure.com"
EXISTING_POSTGRES_DATABASE=""  # e.g., "cipgraph"
EXISTING_POSTGRES_USER=""  # e.g., "pgadmin"
EXISTING_POSTGRES_PASSWORD=""  # Secure value

# ==================== NEW RESOURCE CONFIGURATION ====================
# Required if NOT reusing existing PostgreSQL

# PostgreSQL Admin Password (required for NEW database)
# Minimum 8 characters, must contain uppercase, lowercase, and numbers
POSTGRES_ADMIN_PASSWORD=""  # e.g., "YourSecureP@ssw0rd123"

# Database name
POSTGRES_DATABASE_NAME="cipgraph"

# ==================== AZURE AD AUTHENTICATION ====================
# Automatically populated from OpenAIWorkshop by preprovision.ps1
# Or set manually if not using OpenAIWorkshop

AAD_FRONTEND_CLIENT_ID=""  # Frontend SPA client ID
AAD_TENANT_ID=""  # Azure AD tenant ID
AAD_API_APP_ID=""  # Backend API app ID
AAD_API_AUDIENCE=""  # API audience URI (e.g., "api://<api-app-id>")

# Disable authentication (for development only)
DISABLE_AUTH="false"

# ==================== AZURE CONFIGURATION ====================
# Automatically set by azd, no need to modify

AZURE_LOCATION="eastus2"
AZURE_ENV_NAME=""  # Set during azd init

# ==================== EXAMPLE: REUSING OPENAIWORKSHOP RESOURCES ====================
# If you have OpenAIWorkshop deployed, reuse its resources:

# EXISTING_OPENAI_ENDPOINT="https://aiws-uxezzvcm4smby-agenticaiworkshop-openai.openai.azure.com/"
# EXISTING_OPENAI_DEPLOYMENT_NAME="gpt-5-chat"
# EXISTING_OPENAI_EMBEDDING_DEPLOYMENT_NAME="text-embedding-ada-002"

# AAD_FRONTEND_CLIENT_ID="0c2fc3b7-df66-4844-b3f4-80963ea92a0f"
# AAD_TENANT_ID="0fbe7234-45ea-498b-b7e4-1a8b2d3be4d9"
# AAD_API_APP_ID="48599190-c265-4c7b-8df1-b6d993fca800"
# AAD_API_AUDIENCE="api://48599190-c265-4c7b-8df1-b6d993fca800"

# ==================== EXAMPLE: NEW POSTGRESQL ====================
# If creating NEW PostgreSQL, set password:

# POSTGRES_ADMIN_PASSWORD="MyVerySecurePassword123!"

# ==================== EXAMPLE: EXISTING POSTGRESQL ====================
# If reusing existing PostgreSQL:

# EXISTING_POSTGRES_HOST="ci-ci-dev-pgflex.postgres.database.azure.com"
# EXISTING_POSTGRES_DATABASE="cipgraph"
# EXISTING_POSTGRES_USER="pgadmin"
# EXISTING_POSTGRES_PASSWORD="ExistingPassword123!"
